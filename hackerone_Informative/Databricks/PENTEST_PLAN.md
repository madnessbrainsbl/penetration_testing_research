# Databricks Bug Bounty - –ü–ª–∞–Ω –ø–µ–Ω—Ç–µ—Å—Ç–∞

## üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–≥—Ä–∞–º–º–µ

- **–°–∞–π—Ç**: https://databricks.com/
- **–¢–µ—Å—Ç–æ–≤—ã–µ –ø–ª–æ—â–∞–¥–∫–∏**:
  - `https://community.cloud.databricks.com/` (Community Edition)
  - `https://dbc-9a3f8ed1-7608.cloud.databricks.com/` (–≤—ã–¥–∞–Ω–Ω—ã–π workspace)
  - `accounts.cloud.databricks.com` (Account-level)

## üí∞ –í–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è

| Severity | –°—É–º–º–∞ |
|----------|-------|
| Low | $100 |
| Medium | $400 |
| High | $3,000 |
| Critical | $10,000 |

**–ë–û–ù–£–°–´**:
- +25% –∑–∞ Privilege Escalation, IDOR, Improper Access Control
- $3,000 –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –∑–∞ Container/LXC Escape

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä—ã –∞—Ç–∞–∫

### 1. Broken Access Control & IDOR (–ü–†–ò–û–†–ò–¢–ï–¢!)

**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ**: Databricks –∏–º–µ–µ—Ç —Å–ª–æ–∂–Ω—É—é –º–æ–¥–µ–ª—å –ø—Ä–∞–≤ —Å ACL –Ω–∞ workspace-–æ–±—ä–µ–∫—Ç—ã, RBAC –Ω–∞ account-—É—Ä–æ–≤–Ω–µ, –∏ Unity Catalog –¥–ª—è –¥–∞–Ω–Ω—ã—Ö. –ú–Ω–æ–≥–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –º–µ—Å—Ç –¥–ª—è –æ—à–∏–±–æ–∫.

#### 1.1 –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ IDOR
- [ ] Notebook ID manipulation
- [ ] Job ID manipulation  
- [ ] Dashboard ID manipulation
- [ ] Workspace file ID manipulation
- [ ] Secret scope ID manipulation
- [ ] Cluster config ID manipulation

**–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è**:
```
1. –°–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç (notebook, job, etc)
2. –ó–∞—Ö–≤–∞—Ç–∏—Ç—å API-–∑–∞–ø—Ä–æ—Å –≤ DevTools (Network tab)
3. –ù–∞–π—Ç–∏ ID –≤ URL –∏–ª–∏ body: /api/2.0/*/permissions, notebookId, job_id, etc
4. –°–æ–∑–¥–∞—Ç—å –≤—Ç–æ—Ä–æ–π –∞–∫–∫–∞—É–Ω—Ç (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å community edition)
5. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å ID —á—É–∂–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: 200 = IDOR –Ω–∞–π–¥–µ–Ω, 403 = –∑–∞—â–∏—â–µ–Ω–æ
```

#### 1.2 –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π PrivEsc
- [ ] Self-assign workspace admin
- [ ] Self-assign account admin  
- [ ] Modify entitlements
- [ ] Import/export workspace configs —Å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏

**–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏**:
- `/workspace-conf`
- `/permissions`
- `/admin/users`
- `/api/2.0/*/permissions`

---

### 2. Multi-tenant IDOR (Sharing/Invites)

**–ö–æ–Ω—Ç–µ–∫—Å—Ç**: Databricks = multi-tenant (–æ–±—â–∏–π control plane, —Ä–∞–∑–Ω—ã–µ data planes).

#### 2.1 Invite/Token manipulation
- [ ] –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ invite token
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ email –≤ invite –∑–∞–ø—Ä–æ—Å–µ
- [ ] –ü–æ–¥–º–µ–Ω–∞ workspace_id/group_id –≤ invite

#### 2.2 Shared links
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ID –æ–±—ä–µ–∫—Ç–∞ –≤ query-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –±–µ–∑ –ø–æ–¥–ø–∏—Å–∏
- [ ] –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å sequential ID enumeration

#### 2.3 API IDOR
- [ ] Jobs API: `/api/2.0/jobs/`
- [ ] Clusters API: `/api/2.0/clusters/`
- [ ] Secrets API: `/api/2.0/secrets/`
- [ ] Repos API: `/api/2.0/repos/`

---

### 3. Secrets & Token Leakage

**–¶–µ–Ω–Ω–æ—Å—Ç—å**: Databricks —É–∂–µ –ø–ª–∞—Ç–∏–ª–∏ –∑–∞ –ø–æ–¥–æ–±–Ω—ã–µ –±–∞–≥–∏ (init-script leak, Docker image credentials).

#### 3.1 DBFS / Workspace Files
- [ ] –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ DBFS –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- [ ] –ü–æ–∏—Å–∫ .json, .conf, .yaml, .csv —Ñ–∞–π–ª–æ–≤ —Å credentials
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ /tmp/ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- [ ] Init-scripts —Å —Ç–æ–∫–µ–Ω–∞–º–∏

#### 3.2 Runtime secrets
- [ ] ENV-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ
- [ ] /tmp/custom-spark.conf
- [ ] –°–µ–∫—Ä–µ—Ç—ã –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –¥–ª—è –¥—Ä—É–≥–∏—Ö —é–∑–µ—Ä–æ–≤/tenants

#### 3.3 Docker images
- [ ] –ü—É–±–ª–∏—á–Ω—ã–µ Databricks Docker images –Ω–∞ Docker Hub
- [ ] Hardcoded credentials/tokens
- [ ] –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ URLs

---

### 4. Container/LXC Escape ($3000 guaranteed)

**–í–∞–∂–Ω–æ**: RCE –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞ = –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –ù–ï –±–∞–≥!

**–ß—Ç–æ –∏—â–µ–º**:
- [ ] Kernel vulnerabilities
- [ ] LXC misconfigurations  
- [ ] cgroups escape
- [ ] namespace isolation bypass
- [ ] –î–æ—Å—Ç—É–ø –∫ —Å–æ—Å–µ–¥–Ω–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º
- [ ] –î–æ—Å—Ç—É–ø –∫ host OS

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å**:
```bash
# –í–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞:
uname -a           # –í–µ—Ä—Å–∏—è —è–¥—Ä–∞
cat /proc/version  # –î–µ—Ç–∞–ª–∏ —Å–∏—Å—Ç–µ–º—ã
ls -la /          # –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
mount             # –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
cat /etc/lxc/config  # –ö–æ–Ω—Ñ–∏–≥ LXC –µ—Å–ª–∏ –µ—Å—Ç—å
```

---

### 5. XSS —Å —Ä–µ–∞–ª—å–Ω—ã–º –∏–º–ø–∞–∫—Ç–æ–º

**–ì–¥–µ**: Control plane UI (`dbc-*.staging.cloud.databricks.com`, `community.cloud.databricks.com`)

**–ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è bounty** (–ø—Ä–æ—Å—Ç–æ alert(1) = informative!):
- [ ] XSS ‚Üí –∫—Ä–∞–∂–∞ —Ç–æ–∫–µ–Ω–∞/—Å–µ—Å—Å–∏–∏ workspace admin
- [ ] XSS ‚Üí auto-–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∞–¥–º–∏–Ω—ã
- [ ] XSS ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ PAT –æ—Ç –∏–º–µ–Ω–∏ –∂–µ—Ä—Ç–≤—ã
- [ ] XSS ‚Üí –∏–∑–º–µ–Ω–µ–Ω–∏–µ workspace settings

---

## üîß –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### –ü–æ–ª—É—á–µ–Ω–∏–µ credentials
1. –ß–µ—Ä–µ–∑ HackerOne "Request Credential" feature
2. –ó–∞–ø—Ä–æ—Å–∏—Ç—å –≤—Ç–æ—Ä–æ–π –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è IDOR

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- Browser DevTools (Network tab)
- Burp Suite / mitmproxy
- curl
- Python scripts –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- https://docs.databricks.com/
- https://docs.databricks.com/en/getting-started/overview.html
- Product walkthrough: F3696045

---

## üìù –£—Ä–æ–∫–∏ –∏–∑ "–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã—Ö" —Ä–µ–ø–æ—Ä—Ç–æ–≤

### Ripio (CSS Injection ‚Üí JWT leak) - INFORMATIVE
**–ü—Ä–∏—á–∏–Ω–∞**: JWT —É–∂–µ –±—ã–ª –≤ URL –∫–∞–∫ —á–∞—Å—Ç—å "–æ–∂–∏–¥–∞–µ–º–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è". –ù–µ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∞ security boundary.

**–£—Ä–æ–∫**: –ù—É–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –†–ï–ê–õ–¨–ù–£–Æ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—é, –Ω–µ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫—É—é. –£—è–∑–≤–∏–º–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –ø–µ—Ä–µ—Å–µ–∫–∞—Ç—å security boundary.

### Northern.tech - 0 vulnerabilities
**–£—Ä–æ–∫**: –ù–µ –≤—Å–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏–º–µ—é—Ç –±–∞–≥–∏. –ò–Ω–æ–≥–¥–∞ "–Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ" = —Ö–æ—Ä–æ—à–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.

### Bybit - 0 vulnerabilities
**–£—Ä–æ–∫**: Enterprise security (WAF, HMAC, header auth) –¥–µ–ª–∞–µ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –∞—Ç–∞–∫–∏ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º–∏.

### Kong (CRITICAL - —É—Å–ø–µ—à–Ω—ã–π) 
**–£—Ä–æ–∫**: pre-function plugin ‚Üí env vault ‚Üí cluster keys = chain —Å —Ä–µ–∞–ª—å–Ω—ã–º –∏–º–ø–∞–∫—Ç–æ–º. –ü–æ–∫–∞–∑–∞–Ω –ø–æ–ª–Ω—ã–π path –æ—Ç exploitation –¥–æ impact.

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –¥–µ–π—Å—Ç–≤–∏–π

### –§–∞–∑–∞ 1: –†–∞–∑–≤–µ–¥–∫–∞
- [ ] –ü–æ–ª—É—á–∏—Ç—å test credentials —á–µ—Ä–µ–∑ HackerOne
- [ ] –ó–∞–ø—Ä–æ—Å–∏—Ç—å –≤—Ç–æ—Ä–æ–π –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è IDOR —Ç–µ—Å—Ç–æ–≤
- [ ] –ò–∑—É—á–∏—Ç—å UI –∏ API endpoints
- [ ] –°–æ–∑–¥–∞—Ç—å "–∫–∞—Ä—Ç—É –æ–±—ä–µ–∫—Ç–æ–≤" workspace

### –§–∞–∑–∞ 2: Access Control (–Ω–µ–¥–µ–ª—è)
- [ ] –°–Ω—è—Ç—å –≤—Å–µ permission/sharing –∑–∞–ø—Ä–æ—Å—ã
- [ ] –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π IDOR —Ç–µ—Å—Ç –Ω–∞ –≤—Å–µ —Ç–∏–ø—ã –æ–±—ä–µ–∫—Ç–æ–≤
- [ ] –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π PrivEsc —Ç–µ—Å—Ç—ã
- [ ] Document –≤—Å–µ 403/200/404 –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –§–∞–∑–∞ 3: Secrets/Tokens
- [ ] Enumerate DBFS/workspace files
- [ ] –ò—Å–∫–∞—Ç—å leaked credentials
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å runtime secrets –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ

### –§–∞–∑–∞ 4: Advanced
- [ ] Container escape (–µ—Å–ª–∏ –µ—Å—Ç—å kernel vulns)
- [ ] XSS chain —Å impact
- [ ] Multi-tenant isolation bypass

---

## üìä –°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –°—Ç–∞—Ç—É—Å | Findings |
|-----------|--------|----------|
| IDOR/ACL | ‚è≥ Pending | - |
| PrivEsc | ‚è≥ Pending | - |
| Secrets leak | ‚è≥ Pending | - |
| Container escape | ‚è≥ Pending | - |
| XSS | ‚è≥ Pending | - |

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ—Ä—Ç–æ–≤

–í—Å–µ —Ä–µ–ø–æ—Ä—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ `/media/sf_vremen/hackerone/Databricks/`:
- `REPORT_<VULN_TYPE>_<DATE>.md` - –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–ø–æ—Ä—Ç—ã
- `POC_<name>.py` - Proof of Concept —Å–∫—Ä–∏–ø—Ç—ã
- `NOTES_<topic>.txt` - –†–∞–±–æ—á–∏–µ –∑–∞–º–µ—Ç–∫–∏
- `SCREENSHOTS/` - –°–∫—Ä–∏–Ω—à–æ—Ç—ã –¥–ª—è —Ä–µ–ø–æ—Ä—Ç–æ–≤

---

*–°–æ–∑–¥–∞–Ω–æ: 2025-12-05*

