#!/bin/bash

echo "Waiting for extraction to complete..."
echo ""

# Wait for the file to be created (max 40 minutes)
for i in {1..40}; do
    if [ -f critical_data_stolen.json ]; then
        echo "✅ Extraction complete!"
        echo ""
        
        # Show the extracted data
        cat critical_data_stolen.json
        echo ""
        echo "=" * 80
        echo "Creating final HackerOne report..."
        echo "=" * 80
        
        break
    fi
    
    # Check every minute
    sleep 60
    echo "Still waiting... ($i minutes elapsed)"
done

if [ ! -f critical_data_stolen.json ]; then
    echo "❌ Extraction did not complete in 40 minutes"
    echo "Check continue_exploit_output.txt for errors"
fi

